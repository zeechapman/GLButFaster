function ran(a){return Math.floor(Math.random()*a)}function getLucky(){sndMid.play(),sndMid.rate(rate),sndMid.once("end",function(){rate<luckyMax?(document.getElementById("pic").width*="1.01",luckyCounter++,getLucky()):(sndEnd.play(),vid.play(),sndEnd.once("end",function(){document.getElementById("vid").insertAdjacentHTML("afterend","<a href='javascript:void(0)' onclick='location.reload()'>Do it again?</a><br /><small>Times they got lucky: <b>"+luckyCounter+"</b><br />(if there's a decimal, only one of them got lucky a couple of times)</small>")}))}),rate+=.04}function lyricsMix(){var a=ran(8);if(counter<=loopMax)switch(a){case 0:L0.rate(rate).play();break;case 1:L1.rate(rate).play();break;case 2:L2.rate(rate).play();break;case 3:L3.rate(rate).play();break;case 4:L4.rate(rate).play(),rate+=.01,luckyCounter+=.5;break;case 5:L5.rate(rate).play();break;case 6:L6.rate(rate).play();break;case 7:L7.rate(rate).play(),rate+=.01,luckyCounter+=.5;break;default:document.getElementById("vid").insertAdjacentHTML("afterend","<p>Ummm...something happened...you're not supposed to see this...</p>")}else getLucky(),console.log("They're about to stay up all night to get lucky...");counter++}var rate=1,aud="https://raw.githubusercontent.com/zeechapman/GLButFaster/0aef4825bb151115e1d97eec9f38f4aa5d1b715b/media/aud/gl-",counter=0,wereUp=.04,imUp=.02,loopMax=15,luckyMax=13.5,luckyCounter=0,sndStart=new Howl({src:aud+"start.ogg"}),sndMid=new Howl({src:aud+"mid.ogg",rate:rate}),sndEnd=new Howl({src:aud+"end.ogg"}),L0=new Howl({src:aud+"0.ogg",onend:function(){lyricsMix()}}),L1=new Howl({src:aud+"1.ogg",onend:function(){lyricsMix()}}),L2=new Howl({src:aud+"2.ogg",onend:function(){lyricsMix()}}),L3=new Howl({src:aud+"3.ogg",onend:function(){lyricsMix()}}),L4=new Howl({src:aud+"4.ogg",onend:function(){lyricsMix()}}),L5=new Howl({src:aud+"5.ogg",onend:function(){lyricsMix()}}),L6=new Howl({src:aud+"6.ogg",onend:function(){lyricsMix()}}),L7=new Howl({src:aud+"7.ogg",onend:function(){lyricsMix()}});window.onload=function(){document.getElementById("vid");sndStart.play(),sndStart.on("end",function(){lyricsMix()})};